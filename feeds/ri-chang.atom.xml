<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Hir0C blog</title><link href="blog/" rel="alternate"></link><link href="blog/feeds/ri-chang.atom.xml" rel="self"></link><id>blog/</id><updated>2016-03-22T18:09:00+08:00</updated><entry><title>storm 基本安装</title><link href="blog/ri-chang/2016-03-22-18-09.html" rel="alternate"></link><updated>2016-03-22T18:09:00+08:00</updated><author><name>Hir0C</name></author><id>tag:,2016-03-22:blog/ri-chang/2016-03-22-18-09.html</id><summary type="html">&lt;h3&gt;storm安装步骤:&lt;/h3&gt;
&lt;h4&gt;一、安装zookeeper&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;全部选用CDH的产品，不用担心版本问题，省心。
包都在这里:http://archive.cloudera.com/cdh4/cdh/4/&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置zookeeper
解压稍微修改配置就可以使用，只需要定义dataDir和server.1/2/3&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dataDir=/data/zookeeper/tmp
hostname1:2888:3888
hostname2:2888:3888
hostname3:2888:3888
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;启动
        ./zkServer.sh start&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;二、安装消息队列ZeroMQ&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;直接上最新版本zeromq-4.0.3&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;http://download.zeromq.org/zeromq-4.0.3.tar.gz
编译安装:&lt;code&gt;./configure &amp;amp;&amp;amp; make &amp;amp;&amp;amp; make install &amp;amp;&amp;amp; ldconfig&lt;/code&gt;
不要忘记&lt;code&gt;ldconfig&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;安装zemq&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;https://github.com/zeromq/jzmq
编译安装:&lt;code&gt;./configure &amp;amp;&amp;amp; make &amp;amp;&amp;amp; make install &amp;amp;&amp;amp; ldconfig&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;两个模块都默认安装/usr/local/了，这样storm就不用单独配置java.library.path了&lt;/p&gt;
&lt;h4&gt;三、安装storm&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;storm需要python2.6以上版本。安装略&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;storm配置&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;storm.zookeeper.servers: 需要指定zookeeper集群ip 
storm.local.dir:本地目录位置
storm.zookeeper.root:zookeeper根目录
nimbus.host: &amp;quot;IP&amp;quot; 
worker.childopts:&amp;quot;-Xmx    m&amp;quot; 
ui.port: 8080
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;启动storm&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ui的机器&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    ./storm nimbus &amp;gt;/dev/null 2&amp;gt;&amp;amp;1 &amp;amp;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;work&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    ./storm supervisor &amp;gt;/dev/null 2&amp;gt;&amp;amp;1 &amp;amp;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ui&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    ./storm ui &amp;gt;/dev/null 2&amp;gt;&amp;amp;1 &amp;amp;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;要注意的是,RELEASE文件时必须的,否则启动会报错&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;only be run from with in a release&lt;/p&gt;
&lt;/blockquote&gt;</summary><category term="日常"></category></entry></feed>