<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
Design by Free CSS Templates
http://www.freecsstemplates.org
Released for free under a Creative Commons Attribution 2.5 License

Name       : Brown Stone  
Description: A two-column, fixed-width design with dark color scheme.
Version    : 1.0
Released   : 20100928

-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Hir0C blog - storm</title>
<link href="../theme/css/style.css" rel="stylesheet" type="text/css" media="screen" />
<link href="../" type="application/atom+xml" rel="alternate" title="Hir0C blog ATOM Feed" />
</head>
<body>
<div id="wrapper">
	<div id="page">
		<div id="page-bgtop">
			<div id="page-bgbtm">
 
        
				<div id="content">
					<div class="post">
						<h2 class="title"><a href="../yun-wei/2016-03-22-18-09.html">storm 基本安装</a></h2>
						<p class="meta"><span class="date">Le  </span><span class="posted">Par <a href="#">Hir0C</a></span><span>&nbsp; | Catégorie : <a href="../yun-wei/index.html">运维</a></span></p>
					<p class="meta">Tags : <span><a href="../tag/storm.html">storm</a> / </span>
</p>
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <h3>storm安装步骤:</h3>
<h4>一、安装zookeeper</h4>
<ol>
<li>
<p>全部选用CDH的产品，不用担心版本问题，省心。
包都在这里:http://archive.cloudera.com/cdh4/cdh/4/</p>
</li>
<li>
<p>配置zookeeper
解压稍微修改配置就可以使用，只需要定义dataDir和server.1/2/3</p>
<div class="highlight"><pre><span></span>dataDir=/data/zookeeper/tmp
hostname1:2888:3888
hostname2:2888:3888
hostname3:2888:3888
</pre></div>


</li>
<li>
<p>启动
        ./zkServer.sh start</p>
</li>
</ol>
<h4>二、安装消息队列ZeroMQ</h4>
<ol>
<li>直接上最新版本zeromq-4.0.3</li>
</ol>
<p>http://download.zeromq.org/zeromq-4.0.3.tar.gz
编译安装:<code>./configure &amp;&amp; make &amp;&amp; make install &amp;&amp; ldconfig</code>
不要忘记<code>ldconfig</code></p>
<ol>
<li>安装zemq</li>
</ol>
<p>https://github.com/zeromq/jzmq
编译安装:<code>./configure &amp;&amp; make &amp;&amp; make install &amp;&amp; ldconfig</code></p>
<p>两个模块都默认安装/usr/local/了，这样storm就不用单独配置java.library.path了</p>
<h4>三、安装storm</h4>
<ol>
<li>
<p>storm需要python2.6以上版本。安装略</p>
</li>
<li>
<p>storm配置</p>
<div class="highlight"><pre><span></span>storm.zookeeper.servers: 需要指定zookeeper集群ip 
storm.local.dir:本地目录位置
storm.zookeeper.root:zookeeper根目录
nimbus.host: &quot;IP&quot; 
worker.childopts:&quot;-Xmx    m&quot; 
ui.port: 8080
</pre></div>


</li>
<li>
<p>启动storm</p>
</li>
</ol>
<p>ui的机器</p>
<div class="highlight"><pre><span></span>    ./storm nimbus &gt;/dev/null 2&gt;&amp;1 &amp;
</pre></div>


<p>work</p>
<div class="highlight"><pre><span></span>    ./storm supervisor &gt;/dev/null 2&gt;&amp;1 &amp;
</pre></div>


<p>ui</p>
<div class="highlight"><pre><span></span>    ./storm ui &gt;/dev/null 2&gt;&amp;1 &amp;
</pre></div>


<p>要注意的是,RELEASE文件时必须的,否则启动会报错</p>
<blockquote>
<p>only be run from with in a release</p>
</blockquote>	
						</div>
					</div>
					<div style="clear: both;">&nbsp;</div>
				</div>
				<div id="sidebar">
					<div id="logo">
						<h1><a href="..">Hir0C blog</a></h1>
					</div>
					<div id="menu">
						<ul>
							<li ><a href="..">Home</a></li>
							<li ><a href="../archives.html">Archives</a></li>
						</ul>
					</div>
					<ul>
						<li>
							<h2>Catégories</h2>
							<ul>
								 <li ><a href="../yun-wei/index.html">运维</a></li>
							</ul>
						</li>
						<li>
						        <h2>Tags</h2>
						        <ul>
                                                                <li><a href="../tag/bian-ji-qi.html">编辑器</a></li>
                                                                <li><a href="../tag/vsftpd.html">vsftpd</a></li>
                                                                <li><a href="../tag/nginx.html">nginx</a></li>
                                                                <li><a href="../tag/wordpress.html">wordpress</a></li>
                                                                <li><a href="../tag/yun-wei.html">运维</a></li>
                                                                <li><a href="../tag/storm.html">storm</a></li>
                                                                <li><a href="../tag/bash.html">bash</a></li>
						        </ul>
						</li>
						
						
					</ul>
				</div>
				<!-- end #sidebar -->
				<div style="clear: both;">&nbsp;</div>
			</div>
		</div>
	</div>
	<!-- end #page -->

<div id="footer">
	<p>Copyright (c) 2008 Sitename.com. All rights reserved. Design by <a href="http://www.freecsstemplates.org/">CSS Templates</a>.</p>
	<p>Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>, which takes great advantages of <a href="http://python.org">python</a>.
</p>
</div>
<!-- end #footer -->
</body>
</html>